<!-- 
  TO DO: 
  - [] Add food popups
  - [] I think put the candle 2 in food popups since it is short and stout? 
  - [] Don't let popups cover the image
  - [] Make background color random for every popup
  - [] Add frame and other decorations to background 
  -->
<!DOCTYPE html>
<html>
  <head>
    <title>Uploaded Image</title>
    <style>
      body,
      html {
        height: 100%;
        margin: 0;
        background-color: rgb(222, 81, 180);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }
      img {
        max-width: 100%;
        max-height: 50%;
        margin-bottom: 20px;
      }
      button {
        padding: 10px 20px;
        margin-bottom: 10px;
        font-size: 16px;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <!-- <img src="/uploads/${imageName}" alt="Uploaded Image">
    <button onclick="window.location.href='/'">Make My Own Shrine</button> -->
    <!-- look to the server.js code for changing the values of img and button  -->
    <button id="dummy">WORSHIP ME</button>
    <img src="download.png" alt="Uploaded Image" />
  </body>
  <script>
    function openFirstPopups() {
      //big candles
      window.open(
        `candle.html?popup=1&candleSource=candle3.gif`,
        `big candle 1`,
        `width=200,height=500,left=230,top=200`
      );
      window.open(
        `candle.html?popup=2&candleSource=candle3.gif`,
        `big candle 2`,
        `width=200,height=500,left=1000,top=200`
      );
      window.open(
        `button1.html`,
        `HARDER`,
        `width=100,height=100,left=650,top=150`
      );
    }
    let clickCount = 0;

    document.getElementById("dummy").addEventListener("click", () => {
      clickCount++;

      var button = document.getElementById("dummy");
      switch (clickCount) {
        case 1:
          openFirstPopups();
          button.innerHTML = "HARDER";
          console.log(clickCount);
          break;
        default:
          break;
      }
    });

    function isPopupBlocked() {
      // Open a dummy popup
      var popup = window.open("", "test-popup", "width=1,height=1");
      if (!popup || popup.closed || typeof popup.closed === "undefined") {
        // Popup was blocked
        alert("You have popups blocked. Allow popups and reload the page to build your digital shrine!")
        return true;
      }
      // Close the dummy popup
      popup.close();
      // Popup wasn't blocked
      return false;
    }

  </script>
</html>
